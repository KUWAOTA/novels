# ============================================================
# Constrain — ストーリー分岐ツリー（git風）
# ============================================================
# status: draft（マッキー読了前のブレインストーミング段階）
#
# ⚠️ これらは全て「ありうる可能性」です。
#    確定的なプロットではありません。
#    マッキー理論学習後に取捨選択します。
#
# 分岐の読み方:
#   main      = 最も合意度の高い基本の流れ
#   branch/*  = main から分岐する代替案
#   status    = preferred | candidate | deferred | rejected
# ============================================================

# ══════════════════════════════════════════════════════════════
# MAIN — 基本プロットライン
# ══════════════════════════════════════════════════════════════
main:
  status: preferred
  summary: >
    人の感情や空気が理解できず傷ついてきた主人公は、
    「再現性」と「厳密な言語」に救われる。
    やがて曖昧さを排除し、誰にとっても誤解のない言葉だけで
    構成された世界を作ろうとする。
    しかし成功の先で、正しく理解できることと
    誰かと共に生きていることは別だと気づく。
    「分かる」ことと「触れる」ことのあいだで揺れながら、
    他者の世界を旅し、抱擁するための曖昧さに向き合っていく。

  # ────────────────────────────────────
  # ACT 1: 原点 — 再現性の獲得
  # ────────────────────────────────────
  act_1:
    label: "原点 — 再現性への目覚め"
    time: "子供時代〜青年期"
    status: preferred

    beat_sequence:
      - id: M-1-1
        description: >
          ASD傾向により空気が読めない主人公。
          共感のルールが分からず地雷を踏みいじめられる。
        value_change: "安全 → 危険 (孤立)"

      - id: M-1-2
        description: >
          母の「努力しろ」に再現性がないことに気づく。
          カフェで集中できる法則を自力で発見。
        value_change: "無力 → 手段の獲得"

      - id: M-1-3
        description: >
          数学/物理の熱い先生と出会い、
          言語によって分かり合える美しさ、再現性の価値を知る。
        value_change: "孤立 → 繋がりの萌芽（ただし本人は気づかず）"
        irony: >
          人間との繋がりが生じているのに、
          言語のルール的側面だけを吸収してしまう。

      - id: M-1-4
        description: >
          他者の行動を説明する仮説モデルを構築し、
          再現可能な言語化で適応していく。
          暗黙の了解で生きている他者よりも他者のことが分かるようになる。
        value_change: "不適応 → 適応（過剰適応の兆し）"

      - id: M-1-5
        description: >
          同じく凸凹がある女性から尊敬・恋心を抱かれる。
          自信をつけていく。
        value_change: "孤立 → 承認"

    act_1_climax:
      description: >
        再現性と厳密さこそが正しいという信念を確立。
        曖昧さを排除する思想へと傾倒し始める。
      value_state: "再現性を絶対視する世界観の完成"

  # ────────────────────────────────────
  # ACT 2: 上昇と歪み — Constrainの時代
  # ────────────────────────────────────
  act_2:
    label: "上昇と歪み — いけ好かないエリート"
    time: "社会人時代"
    status: preferred

    beat_sequence:
      - id: M-2-1
        description: >
          曖昧な表現をする人を不誠実（嘘つき・危険）とみなすようになる。
          いけ好かないエリートになる。
        value_change: "適応 → 支配/排他"

      - id: M-2-2
        description: >
          「Constrain」を開発。Haskellで書かれた文章作成コンパイラ。
          理科系の作文技術に則った厳密で明確で紛れのない文を強制する。
        note: "Constrainは主人公の写し身"

      - id: M-2-3
        description: >
          ビジネス向けにウケて成功する。
          Constrain事業をベンチャーCTOとして経営。
        value_change: "能力 → 社会的成功"

      - id: M-2-4
        label: "立場の逆転"
        description: >
          下請けテスターとして登場したA（かつてのいじめっ子）を、
          主人公が厳密な言葉で追い詰める立場になる。
        dramatic_irony: >
          いじめられっ子がいじめっ子になっている。
          しかも本人は気づいていない。
        value_change: "正義 → 加害（無自覚）"

    act_2_branching_point: >
      ここからストーリーがいくつかの方向に分岐する可能性がある。
      下記の branch/* を参照。

  # ────────────────────────────────────
  # ACT 3: 転換 — 瓦解と再統合
  # ────────────────────────────────────
  act_3:
    label: "転換 — 曖昧さの受容"
    time: "転換期〜結末"
    status: "複数分岐あり（下記 branch 参照）"

    common_resolution:
      description: >
        どのブランチでも最終的にたどり着く場所:
        - 再現性は間違いではない
        - しかし物事はブーリアンではない
        - 曖昧さにも価値がある
        - 感情はノイズではない
        - Constrainも間違いではない
        - Aを行動原理のレベルで理解し、泣きながら抱擁する

# ══════════════════════════════════════════════════════════════
# BRANCH: 再現性の信仰崩壊ルート
# ══════════════════════════════════════════════════════════════
branch_faith_collapse:
  parent: "main.act_2_branching_point"
  status: preferred  # 「7が良さそう」と著者が選択
  label: "信仰崩壊 — +-思考のmisleading"

  concept: >
    再現性の信仰が崩れるルート。
    +-（再現性が善 vs 悪）とmisleadingして、
    「そこじゃない、もっと俯瞰しろ」と上から読者に叩きつける。

  beat_sequence:
    - id: FC-1
      description: >
        Bと出会う。Bはクリエーター（元心理士→表現者）。
        再現性がある言葉は使わないがめちゃくちゃで居心地がいい。
      value_change: "閉塞 → 新鮮さ"

    - id: FC-2
      description: >
        BがConstrainを使ってみる。
        彼女の表現が即物的になり、ウケるようにはなるが
        「これは私じゃない」とBが言う。
      issues:
        - "これだけでは弱い — もっと不可逆な衝撃が必要"
      value_change: "成功 → 亀裂"

    - id: FC-3
      description: >
        主人公がConstrainを通じてしか話さなくなる。
        Bに「あなたには色がなくなった」と言われる。
        「何を楽しみに生きてるの？」と問われる。
      value_change: "支配 → 空虚"

    - id: FC-4
      label: "瓦解"
      description: >
        再現性や理屈理由を大事にする主人公が、
        「何のために生きているか」という最も大事な問いに
        答えられない自分の論理性のなさに屈辱を感じる。
        Bから「自分の感情にすら耳を傾けないのに、
        ご都合主義で定義した『生きる理由』に価値なんてあるの？」
        と突きつけられる。
      value_change: "確信 → 瓦解"
      note: >
        瓦解が内面的すぎて分かりづらいという懸念あり。
        分かりやすくしたいがマッキーの法則には反したくない。

    - id: FC-5
      label: "誤った反応"
      description: >
        主人公は自分を「客観的観測機」だと信じていたのに、
        不安定な感情から生まれたものだと気づき、
        全てを信用できなくなりConstrainすら辞めようとする。
        事業撤退を試みて、後戻りできない痛みを負う。
      value_change: "瓦解 → 破壊的行動"
      note: "全て投げ出す=ブーリアン思考。これも間違い"

    - id: FC-6
      label: "旅"
      description: >
        全て捨てて旅に出る。
        旅する中でいろんな楽しみに気づく。
        Bの言うことを理解していく。
        感情がノイズだという認識も間違いだと気づく。
        だからConstrainも間違いではないと気づく。
      value_change: "破壊 → 再発見"

    - id: FC-7
      label: "自覚と抱擁"
      description: >
        自分がAをいじめていたことに気づく。
        いじめをする人間が嫌いだからConstrainを作っていたのに。
        自己嫌悪に陥る。
      value_change: "無自覚 → 自己嫌悪"

    - id: FC-8
      label: "Bによる抱擁"
      description: >
        Bが主人公を抱擁する。
        「人を苦しめてしまったあなたの感情も、
        自己嫌悪に陥ってるあなたの感情も、
        何もかも傷つけて無かったことにしてはならないのよ」
        主人公は「抱擁なんだ」と気づく。（段階的に）
      value_change: "自己嫌悪 → 抱擁の理解"

    - id: FC-9
      label: "Aとの再構築"
      description: >
        距離を置かれていたAと関係を再構築する。
        Aの家庭環境の問題を知る。
        行動原理レベルで理解した上で、泣きながら抱擁する。
      value_change: "断絶 → 抱擁"

  postscript:
    b_question: "「旅は楽しかった？」とBに聞かれる"

# ══════════════════════════════════════════════════════════════
# BRANCH: 恋愛クライシスルート
# ══════════════════════════════════════════════════════════════
branch_romance_crisis:
  parent: "main.act_2_branching_point"
  status: deferred  # 「たかが恋愛をクライシスにしたくない」
  label: "恋愛による覚醒"

  concept: >
    BとConstrainの衝突を恋愛のクライシスにするルート。
    ただし著者は「こんな重い話書いてるのにたかが恋愛を
    クライシスにしたくない」と明言。

  beat_sequence:
    - id: RC-1
      description: "BがConstrainを使い、表現が死ぬ"
    - id: RC-2
      description: "「あなたには色がなくなった、じゃあね」と別れを切り出される"
    - id: RC-3
      description: "恋人の喪失をきっかけに主人公が変わる"

  rejection_reason: >
    テーマの重さに対して恋愛がクライシスでは弱い。
    もっと実存的な衝撃が必要。

# ══════════════════════════════════════════════════════════════
# BRANCH: 旅での覚醒ルート
# ══════════════════════════════════════════════════════════════
branch_travel_awakening:
  parent: "branch_faith_collapse.FC-5"
  status: candidate
  label: "旅を通じた気づき"

  concept: >
    全て捨てて旅に出る。旅の中でill-definedな言語の持つ
    創造性・冒険性に触れ、曖昧さの価値に気づく。
  note: >
    「この主人公の性格が旅に出そうなら」と著者が条件付き。
    旅の具体的な内容は未定。

  key_experience:
    description: >
      言葉で世界を見せてもらう経験。
      他者の頭の中で描き出された世界が自分のと違っても豊か。
      「こんな現象をstrictly definedな言葉で扱えるでしょうか？ むりです」
      「この記号現象を楽しもうじゃありませんか」

# ══════════════════════════════════════════════════════════════
# BRANCH: 単一責任ルート（厳密さ獲得パートのみ）
# ══════════════════════════════════════════════════════════════
branch_single_focus:
  parent: "main"
  status: deferred
  label: "厳密さ獲得だけで1作品"

  concept: >
    曖昧さの受容パートを削り、
    再現性・厳密さを獲得するまでだけの物語として書くルート。

  issues:
    - "解像度がどんどん上がるだけで葛藤ができなくなる"
    - "中途半端な解像度で見た世界は認知の歪みを孕んでいて、それを修正するためにもがくことが葛藤になるか？"

  author_concern: >
    曖昧さに行くところの描写に飛躍なく描ける自信がなくなった時に
    検討した案。別のストーリーを二つ混ぜているだけで
    繋がりがないかも（深掘りが足りないだけかもしれない）。

# ══════════════════════════════════════════════════════════════
# BRANCH: Constrain布教→暴走ルート
# ══════════════════════════════════════════════════════════════
branch_constrain_evangelism:
  parent: "main.act_2"
  status: candidate
  label: "Constrainの過剰普及"

  concept: >
    主人公がConstrainを普及させすぎて、
    自分自身もConstrainを通じてしか誰とも喋らなくなる。
    色が消えた世界に気づく。

  escalation:
    - "Constrainがビジネスで成功"
    - "主人公がConstrainを通じてしか話さなくなる"
    - "「何を楽しみに生きてるの」と問われる"
    - "生きる意味あるのか？となる"

  note: "branch_faith_collapseと統合可能"

# ══════════════════════════════════════════════════════════════
# 分岐の可視化（ASCII git graph）
# ══════════════════════════════════════════════════════════════
#
# main ──────── ACT1(再現性獲得) ──── ACT2(Constrain/エリート) ──┬── ACT3(瓦解→再統合)
#                                                                 │
#                                                   ┌─────────────┤
#                                                   │             │
#                                         branch/faith-collapse  │ ★ preferred
#                                           │                    │
#                                           ├── FC: 瓦解         │
#                                           ├── 事業撤退の失敗   │
#                                           ├── 旅 ──────────────┤ branch/travel-awakening
#                                           ├── いじめの自覚     │
#                                           ├── Bによる抱擁      │
#                                           └── Aとの抱擁        │
#                                                                 │
#                                         branch/romance-crisis  │ ⏸ deferred
#                                           └── 恋愛での別れ     │
#                                                                 │
#                                         branch/constrain-evang │ ? candidate
#                                           └── 過剰普及→空虚    │
#                                                                 │
# branch/single-focus ────────────────────────────────────────────┘ ⏸ deferred
#   └── 厳密さ獲得のみで1作品
#
